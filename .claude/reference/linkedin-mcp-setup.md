# LinkedIn MCP — настройка и предупреждения

⚠️ **КРИТИЧЕСКОЕ ПРЕДУПРЕЖДЕНИЕ:**

Этот MCP использует **автоматизацию браузера** (Playwright) для взаимодействия с LinkedIn, **БЕЗ официального API**. Это может:

- **Нарушать Terms of Service LinkedIn** — автоматизация запрещена
- **Привести к блокировке аккаунта** — LinkedIn активно обнаруживает ботов
- **Вызвать ограничения** — временные или постоянные баны

**Используй на свой риск.** Рекомендуется:
- Использовать с задержками между действиями (минимум 3-5 секунд)
- Не делать массовые подписки за раз (максимум 10-20 компаний)
- Использовать в видимом режиме браузера (`headless: false`) для контроля
- Делать перерывы между сессиями

---

## Что уже сделано автоматически

- Создан MCP сервер `linkedin_server.py` с инструментами для подписки на компании
- Добавлен конфиг `.claude/mcp/linkedin.json`
- Файлы сессии добавлены в `.gitignore` (не попадут в git)

---

## Установка

### Шаг 1. Установить зависимости

Из **корня репозитория Dex**:

```bash
pip install -r core/mcp/requirements-linkedin.txt
playwright install chromium
```

### Шаг 2. Добавить MCP в Cursor

1. В настройках MCP Cursor добавь сервер из `.claude/mcp/linkedin.json` (или убедись, что Cursor подхватывает MCP из папки проекта).
2. **Перезапусти Cursor** полностью.

---

## Первое использование

### Шаг 1. Войти в LinkedIn

В чате с Dex:

**«Войди в LinkedIn»** или **«linkedin_login»**

- Откроется браузер (не headless, видимый).
- **Вручную войди** в свой LinkedIn аккаунт в открывшемся окне.
- После входа сессия (cookies) сохранится в `.claude/linkedin/context_state.json`.
- Больше входить не нужно — сессия переиспользуется.

### Шаг 2. Подписаться на компании

**Одна компания:**
- **«Подпишись на компанию [URL]»** или **«linkedin_follow_company»** с параметром `company_url`

**Несколько компаний (из Google Drive документа):**
- Сначала извлеки LinkedIn-ссылки из документа "Game Providers"
- Затем используй **«linkedin_follow_companies_batch»** с массивом URL

**Пример:**
```
Подпишись на компании из списка:
- https://www.linkedin.com/company/100hp-gaming/
- https://www.linkedin.com/company/1spin4win/
- https://www.linkedin.com/company/1x2-network/
```

---

## Инструменты (tools)

| Инструмент | Описание |
|------------|----------|
| **linkedin_login** | Вход в LinkedIn (открывает браузер, ты входишь вручную, сессия сохраняется) |
| **linkedin_follow_company** | Подписаться на одну компанию по URL |
| **linkedin_follow_companies_batch** | Подписаться на несколько компаний (максимум 10 за раз, с задержками) |
| **linkedin_get_company_info** | Получить название компании по URL (только чтение, без подписки) |

---

## Извлечение LinkedIn-ссылок из Google Drive

Чтобы получить список LinkedIn-ссылок из документа "Game Providers":

1. Попроси в чате: **«Прочитай документ Game Providers из Google Drive и извлеки все LinkedIn-ссылки»**
2. Или используй инструмент `gdrive_read_file` с file_id: `1FzuG9eObMpNPHGCnbvnicG6fVFA9Hv8BOnIbBz7mMjM`
3. Затем попроси: **«Подпишись на все эти компании в LinkedIn»**

---

## Рекомендации по безопасности

1. **Используй задержки** — минимум 3-5 секунд между подписками
2. **Ограничивай батчи** — не больше 10-20 компаний за сессию
3. **Делай перерывы** — между сессиями минимум час
4. **Визуальный контроль** — используй `headless: false` чтобы видеть, что происходит
5. **Не злоупотребляй** — LinkedIn может заблокировать аккаунт при подозрительной активности

---

## Файлы сессии

Сессия LinkedIn сохраняется в:
- `.claude/linkedin/context_state.json` — cookies и состояние браузера

Эти файлы уже в `.gitignore` — не попадут в git.

Чтобы начать заново (новый вход), удали `.claude/linkedin/context_state.json`.

---

## Проверка

После входа попроси в чате:

- **«Проверь, что я залогинен в LinkedIn»** — должно вернуть успех
- **«Подпишись на компанию [URL]»** — должно подписаться

---

## Если что-то пошло не так

| Проблема | Решение |
|----------|---------|
| «Playwright not installed» | Выполни: `pip install playwright && playwright install chromium` |
| «Not logged in» | Запусти `linkedin_login` и войди вручную в браузере |
| «Could not find Follow button» | Компания может требовать особых разрешений или быть недоступна |
| Браузер не открывается | Убедись, что Playwright установлен: `playwright install chromium` |
| Аккаунт заблокирован | LinkedIn обнаружил автоматизацию. Обратись в поддержку LinkedIn. |

---

## Краткий чеклист

- [ ] Выполнено: `pip install -r core/mcp/requirements-linkedin.txt`
- [ ] Выполнено: `playwright install chromium`
- [ ] В настройках MCP Cursor добавлен сервер **linkedin** (из `.claude/mcp/linkedin.json`)
- [ ] Cursor перезапущен
- [ ] Выполнен `linkedin_login` и вход в LinkedIn вручную
- [ ] Сессия сохранена (файл `.claude/linkedin/context_state.json` создан)

**Помни:** Использование автоматизации LinkedIn — на твой риск. LinkedIn может заблокировать аккаунт.
